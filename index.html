<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <head>
        <!-- Bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
            integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
            crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous" />
        <!-- end bootstrap-->
        <!-- PyScript -->
        <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
        <!-- end PyScript -->
        <!-- Custom Styles -->
        <link rel="stylesheet" href="css/style.css">
        <!-- end custom styles -->

        <!-- Primary Meta Tags -->
        <title>WhenAlarm? - A webpage to calculate your alarm times</title>
        <meta name="title" content="WhenAlarm? - A webpage to calculate your alarm times">
        <meta name="description" content="A webpage built with PyScript to help you calculate your alarm times.">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://alarm.aruham.dev/">
        <meta property="og:title" content="WhenAlarm? - A webpage to calculate your alarm times">
        <meta property="og:description" content="A webpage built with PyScript to help you calculate your alarm times.">
        <meta property="og:image" content="https://i.imgur.com/UAXkRub.png">

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://alarm.aruham.dev/">
        <meta property="twitter:title" content="WhenAlarm? - A webpage to calculate your alarm times">
        <meta property="twitter:description" content="A webpage built with PyScript to help you calculate your alarm times.">
        <meta property="twitter:image" content="https://i.imgur.com/UAXkRub.png">

        <title>When Alarm?</title>
<py-script>
from js import document
def whensleep(*args, **kwargs):
    # get current time
    current_time = time.time()
    # assume you can fall asleep in 15 minutes
    current_time += 60 * 15

    # remove loading text
    pyscript.write("result","")

    # calculate 6 iterations of alarm times (90 minutes between each alarm time)
    for i in range(1, 7): 
        wake_time = current_time + 5400 * i
        # convert result to readable format
        result = time.strftime("%I:%M %p" , time.localtime(wake_time))
        # set each of the result to its p tag text
        pyscript.write(f"result-{i}",result)
</py-script>    
</head>
<body class="d-flex flex-column min-vh-100">
    <div class="container">
        <div class="px-5 pt-5">
            <h1 class="text-center">When Alarm?</h1>
            <py-script>
                whensleep()
            </py-script>
            <div class="row justify-content-center text-center pt-4">
                <p id="text">If you go to sleep right now, you should alarm for:</p>
                <div class="col col-md-1 col-md-1-5 text-center pt-3">
                    <p id="result">Loading..</p>
                    <p id="result-6"></p>
                    <p id="result-5"></p>
                    <p id="result-4"></p>
                    <p id="result-3"></p>
                    <p id="result-2"></p>
                    <p id="result-1"></p>
                </div>
                <p id="text">If you wake up at one of these times, you’ll rise in between 90-minute sleep cycles.</p>
                <p id="text">A good night’s sleep consists of 5-6 complete sleep cycles.</p>
            </div>
        </div>
    </div>
    <footer class="text-center mt-auto">
        <div class="inner">
        <p id="footertext"><strong>Copyright © <script type="text/javascript">document.write(new Date().getFullYear())</script>
        <a href="https://aruham.dev/"> Mohamed Aruham</a>.</strong> Inspired by <a href="https://sleepcalculator.com/" target="_blank">Sleep Calculator</a>
        </p>
        </div>
    </footer>
</body>
</html>